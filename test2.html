<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
	<head>
		<title></title>
		<script src="SugarSkull.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript" charset="utf-8">
		
		(function() {

		    /* private */

		        var test = null;

		    /* public */ return {

		        Main: function() {

		            APP.exec.call(this, {

		                ns: "myNS.foo.test", /* the full namespace for this code (wont overwrite) */

		                plan: [ /* an array of names of functions that will be executed. */

		                    "Init"
		                    ,["SetupPage", "get"]
		                    ,"BackgroundTask"
							,"dart"
		                ]
		            });
		        },

		        Init: function() {
					test = this;
		        },
		
				SetupPage: function(args) {
					this.widgets.one(args[0]);
					///* same as... */// test.widgets.one(args[0]);
				},
				
				BackgroundTask: function() {
				},

		        widgets: { // some kind of ui code.
					one: function(method) { 
						document.write(test.DAL[method].somedata());
					},
					two: function() {
					},
					three: function() {
					}
		        },

		        DAL: { // data access layer.
					get: {
						somedata: function() {
							return "somedata";
		        		}
					},
					set: {
						somedata: function() {
							return "someotherdata";							
						}
					}
				}

		    }
		})().Main();

		</script>
	</head>
	<body>

	</body>
</html>
